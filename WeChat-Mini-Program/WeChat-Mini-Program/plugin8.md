# 发票功能页

从基础库版本 [2.16.1](https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html) 起，该功能页已经废弃，可以直接使用 [`wx.chooseInvoice`](https://developers.weixin.qq.com/miniprogram/dev/api/open-api/invoice/wx.chooseInvoice.html) 实现对应的功能；点击 `functional-page-navigator` 也将不再进入功能页，直接进入发票选择页。

<details open="" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent;"><summary style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent;">文档</summary><p style="margin: 0px 0px 0.5em; padding: 0px; -webkit-tap-highlight-color: transparent;">发票功能页用于展示用户的发票列表，用户可以选择其中的发票。自基础库版本<span>&nbsp;</span><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; cursor: pointer; color: rgb(87, 107, 149); text-decoration: none;">2.14.1</a><span>&nbsp;</span>开始支持。</p><h2 id="调用参数" style="margin: 2em 0px 0.5em; padding: 0px; -webkit-tap-highlight-color: transparent; font-size: 18px; font-weight: 600;"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/plugin/functional-pages/choose-invoice.html#%E8%B0%83%E7%94%A8%E5%8F%82%E6%95%B0" class="header-anchor" style="margin: -160px 0px 0px; padding: 0px; -webkit-tap-highlight-color: transparent; cursor: pointer; color: rgb(87, 107, 149); text-decoration: none; font-size: 0px; display: block; height: 160px; visibility: hidden;"></a>调用参数</h2><p style="margin: 0px 0px 0.5em; padding: 0px; -webkit-tap-highlight-color: transparent;">发票功能页使用<span>&nbsp;</span><a href="https://developers.weixin.qq.com/miniprogram/dev/component/functional-page-navigator.html" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; cursor: pointer; color: rgb(87, 107, 149); text-decoration: none;">functional-page-navigator</a><span>&nbsp;</span>进行跳转时，对应的参数 name 应为固定值<span>&nbsp;</span><code style="margin: 0px; padding: 2px 0.4em; -webkit-tap-highlight-color: transparent; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; direction: ltr; background-color: rgb(249, 249, 250); font-size: 0.85em; border-radius: 2px; display: inline-block;">chooseInvoice</code><span>&nbsp;</span>，返回参数与<span>&nbsp;</span><a href="https://developers.weixin.qq.com/miniprogram/dev/api/open-api/invoice/wx.chooseInvoice.html" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; cursor: pointer; color: rgb(87, 107, 149); text-decoration: none;">wx.chooseInvoice</a><span>&nbsp;</span>相同。</p><p style="margin: 0px 0px 0.5em; padding: 0px; -webkit-tap-highlight-color: transparent;"><strong style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent;">bindsuccess 返回参数说明：</strong></p><div class="table-wrp" style="margin: 1em 0px 3em; padding: 0px; -webkit-tap-highlight-color: transparent; overflow-x: auto; max-width: 100%;"><table style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; border-collapse: collapse; border-spacing: 0px; display: table; width: 720px; overflow: auto; font-size: 14px;"><thead style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent;"><tr style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent;"><th style="margin: 0px; padding: 10px 20px 10px 0px; -webkit-tap-highlight-color: transparent; font-weight: 600; text-align: left; border-bottom: 1px solid rgb(136, 136, 136); white-space: nowrap; color: rgb(136, 136, 136);">属性</th><th style="margin: 0px; padding: 10px 20px; -webkit-tap-highlight-color: transparent; font-weight: 600; text-align: left; border-bottom: 1px solid rgb(136, 136, 136); white-space: nowrap; color: rgb(136, 136, 136);">类型</th><th style="margin: 0px; padding: 10px 0px 10px 20px; -webkit-tap-highlight-color: transparent; font-weight: 600; text-align: left; border-bottom: 1px solid rgb(136, 136, 136); white-space: nowrap; color: rgb(136, 136, 136);">说明</th></tr></thead><tbody style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent;"><tr style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent;"><td style="margin: 0px; padding: 20px 20px 20px 0px; -webkit-tap-highlight-color: transparent; color: rgb(53, 53, 53); text-align: left; border-bottom: 1px solid rgb(229, 229, 229); height: 62px; box-sizing: border-box; word-break: normal;">invoiceInfo</td><td style="margin: 0px; padding: 20px; -webkit-tap-highlight-color: transparent; color: rgb(53, 53, 53); text-align: left; border-bottom: 1px solid rgb(229, 229, 229); height: 62px; box-sizing: border-box; word-break: normal;">String</td><td style="margin: 0px; padding: 20px 0px 20px 20px; -webkit-tap-highlight-color: transparent; color: rgb(53, 53, 53); text-align: left; border-bottom: 1px solid rgb(229, 229, 229); height: 62px; box-sizing: border-box; word-break: normal;">用户选中的发票信息，格式为一个 JSON 字符串，包含三个字段： card_id：所选发票卡券的 cardId，encrypt_code：所选发票卡券的加密 code，报销方可以通过 cardId 和 encryptCode 获得报销发票的信息，app_id： 发票方的 appId。</td></tr></tbody></table></div><h2 id="示例代码" style="margin: 2em 0px 0.5em; padding: 0px; -webkit-tap-highlight-color: transparent; font-size: 18px; font-weight: 600;"><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/plugin/functional-pages/choose-invoice.html#%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81" class="header-anchor" style="margin: -160px 0px 0px; padding: 0px; -webkit-tap-highlight-color: transparent; cursor: pointer; color: rgb(87, 107, 149); text-decoration: none; font-size: 0px; display: block; height: 160px; visibility: hidden;"></a>示例代码</h2><div class="language-html extra-class" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; border-radius: 4px; background-color: rgb(249, 249, 250);"><pre class="language-html" style="margin: 1em 0px; padding: 30px; -webkit-tap-highlight-color: transparent; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; direction: ltr; overflow: auto; background-color: rgb(249, 249, 250); border-radius: 4px;"><code style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; direction: ltr; background-color: rgb(249, 249, 250); font-size: 14px; border-radius: 0px; display: inline;"><span class="token comment" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgba(0, 0, 0, 0.3);">&lt;!--plugin/components/hello-component.wxml--&gt;</span>
  <span class="token tag" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(180, 87, 255);"><span class="token tag" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(180, 87, 255);"><span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">&lt;</span>functional-page-navigator</span>
    <span class="token attr-name" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(255, 77, 0);">name</span><span class="token attr-value" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);"><span class="token punctuation attr-equals" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">=</span><span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">"</span>chooseInvoice<span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">"</span></span>
    <span class="token attr-name" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(255, 77, 0);">version</span><span class="token attr-value" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);"><span class="token punctuation attr-equals" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">=</span><span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">"</span>develop<span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">"</span></span>
    <span class="token attr-name" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(255, 77, 0);"><span class="token namespace" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent;">bind:</span>success</span><span class="token attr-value" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);"><span class="token punctuation attr-equals" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">=</span><span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">"</span>onSuccess<span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">"</span></span>
    <span class="token attr-name" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(255, 77, 0);"><span class="token namespace" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent;">bind:</span>fail</span><span class="token attr-value" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);"><span class="token punctuation attr-equals" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">=</span><span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">"</span>onFail<span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">"</span></span>
  <span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">&gt;</span></span>
    <span class="token tag" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(180, 87, 255);"><span class="token tag" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(180, 87, 255);"><span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">&lt;</span>button</span><span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">&gt;</span></span>选择发票<span class="token tag" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(180, 87, 255);"><span class="token tag" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(180, 87, 255);"><span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">&lt;/</span>button</span><span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">&gt;</span></span>
  <span class="token tag" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(180, 87, 255);"><span class="token tag" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(180, 87, 255);"><span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">&lt;/</span>functional-page-navigator</span><span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">&gt;</span></span>
</code></pre></div><div class="language-javascript extra-class" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; border-radius: 4px; background-color: rgb(249, 249, 250);"><pre class="language-javascript" style="margin: 1em 0px; padding: 30px; -webkit-tap-highlight-color: transparent; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; direction: ltr; overflow: auto; background-color: rgb(249, 249, 250); border-radius: 4px;"><code style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; direction: ltr; background-color: rgb(249, 249, 250); font-size: 14px; border-radius: 0px; display: inline;"><span class="token comment" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgba(0, 0, 0, 0.3);">// plugin/components/hello-component.js</span>
<span class="token function" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(35, 160, 255);">Component</span><span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">(</span><span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">{</span>
  <span class="token literal-property property" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(255, 77, 0);">methods</span><span class="token operator" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(255, 77, 0);">:</span> <span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">{</span>
    <span class="token function-variable function" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(35, 160, 255);">onSuccess</span><span class="token operator" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(255, 77, 0);">:</span> <span class="token keyword" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(180, 87, 255);">function</span> <span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">(</span><span class="token parameter" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(255, 77, 0);">res</span><span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">)</span> <span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">{</span>
      console<span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">.</span><span class="token function" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(35, 160, 255);">log</span><span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">(</span>res<span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">.</span>detail<span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">)</span><span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">;</span>
    <span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">}</span><span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">,</span>
    <span class="token function-variable function" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(35, 160, 255);">onFail</span><span class="token operator" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(255, 77, 0);">:</span> <span class="token keyword" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(180, 87, 255);">function</span> <span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">(</span><span class="token parameter" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(255, 77, 0);">res</span><span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">)</span> <span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">{</span>
      console<span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">.</span><span class="token function" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(35, 160, 255);">log</span><span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">(</span>res<span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">)</span><span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">;</span>
    <span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">}</span>
  <span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">}</span>
<span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">}</span><span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">)</span><span class="token punctuation" style="margin: 0px; padding: 0px; -webkit-tap-highlight-color: transparent; color: rgb(34, 34, 34);">;</span>
</code></pre></div></details>